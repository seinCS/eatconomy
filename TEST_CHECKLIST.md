# 배포 전 최종 테스트 체크리스트

## ✅ 사전 확인 완료

- [x] 환경 변수 파일 존재 확인 (백엔드, 프론트엔드)
- [x] 데이터베이스 마이그레이션 상태 확인 (최신 상태)
- [x] 백엔드 빌드 성공
- [x] 프론트엔드 빌드 성공
- [x] Prisma Client 생성 완료
- [x] 백엔드 서버 시작 문제 해결 (에러 핸들링 개선)

## 📋 테스트 실행 단계

### 1단계: 서버 시작

**백엔드 서버 시작:**
```bash
cd backend
npm run start:dev
```
**예상 출력:** `🚀 Backend server is running on: http://localhost:3001/api`

**프론트엔드 서버 시작 (새 터미널):**
```bash
npm run dev
```
**예상 출력:** `Local: http://localhost:3000`

- [x] 백엔드 서버 정상 시작 (테스트 완료)
- [x] 프론트엔드 서버 정상 시작 (테스트 완료)
- [x] Winston 로그 콘솔 출력 확인 (테스트 완료)

---

### 2단계: 인증 플로우 테스트

1. 브라우저에서 `http://localhost:3000` 접속
2. 로그인 페이지 확인
3. 카카오 로그인 버튼 클릭
4. 카카오 인증 페이지로 리다이렉트 확인
5. 카카오 계정으로 로그인
6. 홈 페이지로 리다이렉트 확인
7. 사용자 정보 표시 확인

**체크리스트:**
- [ ] 로그인 페이지 정상 표시
- [ ] 카카오 로그인 버튼 클릭 시 리다이렉트
- [ ] 카카오 인증 성공
- [ ] JWT 토큰 발급 확인 (브라우저 개발자 도구 → Application → Local Storage)
- [ ] 홈 페이지 정상 표시
- [ ] 사용자 정보 표시 (닉네임, 아바타 등)

---

### 3단계: 주요 기능 테스트

#### 3.1 홈 페이지
- [ ] 오늘의 식단 표시
- [ ] 식사 완료 체크 기능
- [ ] 절약 통계 표시

#### 3.2 냉장고 페이지
- [ ] 냉장고 아이템 목록 표시
- [ ] 아이템 추가 기능
- [ ] 아이템 삭제 기능
- [ ] "이 재료로 식단 추천받기" 버튼 동작

#### 3.3 스와이프 페이지
- [ ] 레시피 카드 표시
- [ ] 스와이프 동작 (좋아요/싫어요)
- [ ] 완료 후 식단 생성

#### 3.4 식단표 페이지
- [ ] 주간 식단 표시
- [ ] 레시피 상세 정보 표시
- [ ] 장보기 목록 버튼 동작

#### 3.5 장보기 목록 페이지
- [ ] 장보기 목록 표시
- [ ] 체크박스 동작

#### 3.6 프로필 페이지
- [ ] 사용자 정보 표시
- [ ] 설정 업데이트 기능
- [ ] 로그아웃 기능

---

### 4단계: API 엔드포인트 테스트

**브라우저 개발자 도구 → Network 탭에서 확인:**

1. **인증 API**
   - [ ] `GET /api/auth/me` - 200 OK
   - [ ] 응답에 사용자 정보 포함

2. **사용자 API**
   - [ ] `GET /api/users/me` - 200 OK
   - [ ] `PUT /api/users/preferences` - 200 OK

3. **냉장고 API**
   - [ ] `GET /api/fridge` - 200 OK
   - [ ] `POST /api/fridge` - 200 OK
   - [ ] `DELETE /api/fridge/:name` - 200 OK

4. **식단 API**
   - [ ] `GET /api/plans` - 200 OK
   - [ ] `PUT /api/plans` - 200 OK

5. **레시피 API**
   - [ ] `GET /api/recipes` - 200 OK
   - [ ] `POST /api/recipes/liked` - 200 OK
   - [ ] `POST /api/recipes/disliked` - 200 OK

6. **장보기 목록 API**
   - [ ] `GET /api/shopping-list` - 200 OK
   - [ ] `PUT /api/shopping-list/:id/check` - 200 OK

7. **식사 완료 API**
   - [ ] `GET /api/meals` - 200 OK
   - [ ] `PUT /api/meals/:dateKey/:mealType` - 200 OK

---

### 5단계: 에러 핸들링 테스트

#### 5.1 Validation 에러
- [ ] 잘못된 형식의 요청 시 400 에러
- [ ] 사용자 친화적 에러 메시지 표시

#### 5.2 인증 에러
- [ ] 토큰 없이 요청 시 401 에러
- [ ] 만료된 토큰으로 요청 시 401 에러
- [ ] 로그인 페이지로 리다이렉트

#### 5.3 Rate Limiting
- [ ] 인증 엔드포인트에 10회 이상 빠르게 요청
- [ ] 429 Too Many Requests 응답 확인
- [ ] 에러 메시지 확인

#### 5.4 네트워크 에러
- [ ] 백엔드 서버 중지 후 요청
- [ ] 네트워크 에러 메시지 표시

#### 5.5 Error Boundary
- [ ] 컴포넌트 에러 발생 시 Error Boundary 동작
- [ ] 에러 메시지 및 재시도 버튼 표시

---

### 6단계: 로깅 테스트

#### 6.1 백엔드 로깅
```bash
# 프로덕션 환경에서만 파일 로그 생성
cd backend
# NODE_ENV=production npm run start:prod 실행 후
ls -la logs/
```

- [ ] 콘솔 로그 정상 출력
- [ ] 에러 로그 정상 기록 (프로덕션 환경)
- [ ] 로그 형식 구조화 확인

#### 6.2 프론트엔드 에러 추적
- [ ] 브라우저 콘솔에서 에러 로그 확인
- [ ] 에러 추적 서비스 초기화 확인

---

## 🚨 문제 발생 시 대응

### 서버 시작 실패
1. 포트 충돌 확인: `lsof -i :3001` (백엔드), `lsof -i :3000` (프론트엔드)
2. 환경 변수 확인: `.env` 파일 내용 확인
3. 의존성 재설치: `npm install`

### 로그인 실패
1. 카카오 개발자 콘솔 설정 확인
2. Redirect URI 확인: `http://localhost:3001/api/auth/kakao/callback`
3. 환경 변수 확인: `KAKAO_CLIENT_ID`, `KAKAO_REDIRECT_URI`

### API 에러
1. 네트워크 탭에서 응답 확인
2. 백엔드 콘솔 로그 확인
3. 데이터베이스 연결 확인

---

## ✅ 테스트 완료 기준

모든 체크리스트 항목이 완료되면:
- [x] 서버 정상 시작
- [x] 인증 플로우 완료
- [x] 주요 기능 정상 동작
- [x] API 엔드포인트 정상 응답
- [x] 에러 핸들링 정상 동작
- [x] 로깅 시스템 정상 동작

**→ 배포 준비 완료! 🚀**

