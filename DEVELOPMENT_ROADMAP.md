# 개발 로드맵

## 현재 상태 (2024년 12월)

### ✅ 완료된 단계

#### Phase 1: 백엔드 프로젝트 초기화 & 데이터베이스 설정
- ✅ NestJS 프로젝트 생성
- ✅ PostgreSQL 데이터베이스 설정
- ✅ Prisma ORM 설정
- ✅ 데이터베이스 스키마 설계 및 마이그레이션

#### Phase 2: 카카오 OAuth 인증 구현
- ✅ 카카오 개발자 등록 및 앱 설정
- ✅ 백엔드 OAuth 콜백 처리
- ✅ JWT 토큰 발급
- ✅ 프론트엔드 카카오 로그인 연동
- ✅ 인증 가드 및 전략 구현

#### Phase 3: API 엔드포인트 구현
- ✅ Users API (프로필, 선호도, 계정 삭제)
- ✅ Fridge API (냉장고 재료 관리)
- ✅ Plans API (식단표 관리)
- ✅ Recipes API (레시피 선호도)
- ✅ Shopping-list API (장보기 목록)
- ✅ Meals API (식사 완료 상태)

#### Phase 4: 프론트엔드 API 연동
- ✅ `apiService.ts` 생성
- ✅ `dbService.ts` → `apiService.ts` 전환
- ✅ 모든 데이터 조회/수정을 API 호출로 전환
- ✅ 에러 처리 및 롤백 로직 추가

---

## 다음 단계

### Phase 5: 배포 준비 및 최적화

#### 5-1. 코드 품질 개선 (우선순위: 높음)
- [ ] 에러 핸들링 강화
  - [ ] 백엔드: 전역 예외 필터 추가
  - [ ] 프론트엔드: 사용자 친화적 에러 메시지
  - [ ] 네트워크 오류 처리 개선
- [ ] 입력 검증 강화
  - [ ] DTO 검증 규칙 추가
  - [ ] 프론트엔드 폼 검증
- [ ] 로깅 시스템 구축
  - [ ] 백엔드: 구조화된 로깅 (Winston 또는 Pino)
  - [ ] 프론트엔드: 에러 추적 (Sentry 또는 유사 도구)

#### 5-2. 성능 최적화 (우선순위: 중간)
- [ ] 데이터베이스 쿼리 최적화
  - [ ] N+1 쿼리 문제 해결
  - [ ] 인덱스 추가 (필요 시)
  - [ ] 쿼리 성능 모니터링
- [ ] 프론트엔드 최적화
  - [ ] 코드 스플리팅
  - [ ] 이미지 최적화
  - [ ] API 호출 최적화 (캐싱, 배치 요청)

#### 5-3. 보안 강화 (우선순위: 높음)
- [ ] 환경 변수 검증
  - [ ] 필수 환경 변수 체크
  - [ ] 환경 변수 타입 검증
- [ ] API 보안
  - [ ] Rate Limiting 추가
  - [ ] CORS 설정 검토
  - [ ] SQL Injection 방지 (Prisma 사용으로 이미 보호됨)
- [ ] 인증 보안
  - [ ] JWT 토큰 만료 시간 검토
  - [ ] Refresh Token 구현 (선택사항)
  - [ ] 토큰 갱신 로직

#### 5-4. 테스트 작성 (우선순위: 중간)
- [ ] 백엔드 테스트
  - [ ] Unit 테스트 (서비스 레이어)
  - [ ] Integration 테스트 (API 엔드포인트)
  - [ ] E2E 테스트 (인증 플로우)
- [ ] 프론트엔드 테스트
  - [ ] 컴포넌트 테스트
  - [ ] API 통합 테스트
  - [ ] E2E 테스트 (주요 사용자 플로우)

---

### Phase 6: 배포

#### 6-1. 백엔드 배포 (Railway 또는 Render)
- [ ] 배포 플랫폼 선택 및 계정 생성
- [ ] PostgreSQL 데이터베이스 설정
  - [ ] 프로덕션 데이터베이스 생성
  - [ ] 마이그레이션 실행
- [ ] 환경 변수 설정
  - [ ] `DATABASE_URL`
  - [ ] `JWT_SECRET`
  - [ ] `KAKAO_CLIENT_ID`
  - [ ] `KAKAO_REDIRECT_URI`
  - [ ] `FRONTEND_URL`
- [ ] 배포 설정
  - [ ] `package.json` 스크립트 확인
  - [ ] 빌드 설정
  - [ ] 헬스체크 엔드포인트 추가
- [ ] 배포 및 검증
  - [ ] 배포 실행
  - [ ] API 엔드포인트 테스트
  - [ ] 데이터베이스 연결 확인

#### 6-2. 프론트엔드 배포 (Vercel)
- [ ] 환경 변수 설정
  - [ ] `VITE_API_BASE_URL` (프로덕션 백엔드 URL)
  - [ ] `VITE_KAKAO_CLIENT_ID`
  - [ ] `VITE_KAKAO_REDIRECT_URI` (프로덕션 URL)
- [ ] 카카오 개발자 콘솔 업데이트
  - [ ] 프로덕션 Redirect URI 등록
- [ ] 배포 및 검증
  - [ ] Vercel 배포
  - [ ] 로그인 플로우 테스트
  - [ ] 주요 기능 테스트

#### 6-3. 모니터링 및 로깅 설정
- [ ] 백엔드 모니터링
  - [ ] 에러 추적 도구 설정
  - [ ] 성능 모니터링
- [ ] 프론트엔드 모니터링
  - [ ] 에러 추적 (Sentry 등)
  - [ ] 사용자 분석 (선택사항)

---

### Phase 7: 기능 개선 (배포 후)

#### 7-1. 사용자 경험 개선
- [ ] 로딩 상태 개선
  - [ ] 스켈레톤 UI
  - [ ] 진행률 표시
- [ ] 오프라인 지원
  - [ ] Service Worker 구현
  - [ ] 오프라인 데이터 캐싱
- [ ] 반응형 디자인 개선
  - [ ] 모바일 최적화
  - [ ] 태블릿 레이아웃

#### 7-2. 기능 확장
- [ ] 레시피 데이터베이스 확장
  - [ ] 레시피 수 50개 → 100개 이상
  - [ ] 레시피 이미지 최적화
- [ ] 영양소 분석 기능
  - [ ] 칼로리 계산
  - [ ] 영양소 정보 표시
- [ ] 식사 이력 및 통계
  - [ ] 식사 이력 추적
  - [ ] 주간/월간 통계
  - [ ] 절약 금액 계산

#### 7-3. 고급 기능
- [ ] AI 기반 개인화 추천 강화
  - [ ] 사용자 선호도 학습
  - [ ] 계절별 추천
- [ ] 소셜 기능
  - [ ] 레시피 공유
  - [ ] 친구 초대
- [ ] 알림 기능
  - [ ] 식사 시간 알림
  - [ ] 장보기 알림

---

## 우선순위별 진행 계획

### 즉시 진행 (Phase 5-1, 5-3)
1. **에러 핸들링 강화** - 사용자 경험 개선
2. **보안 강화** - 프로덕션 배포 전 필수
3. **환경 변수 검증** - 배포 시 오류 방지

### 단기 (Phase 5-2, 5-4)
1. **성능 최적화** - 사용자 경험 개선
2. **테스트 작성** - 코드 품질 보장

### 중기 (Phase 6)
1. **백엔드 배포** - 프로덕션 환경 구축
2. **프론트엔드 배포** - 서비스 오픈

### 장기 (Phase 7)
1. **기능 개선** - 사용자 피드백 반영
2. **기능 확장** - 서비스 고도화

---

## 다음 단계 추천

현재 로그인 기능이 완료되었으므로, **Phase 5-1 (코드 품질 개선)**부터 시작하는 것을 권장합니다:

1. **에러 핸들링 강화** - 사용자 경험 개선 및 디버깅 용이
2. **보안 강화** - 프로덕션 배포 전 필수 사항
3. **환경 변수 검증** - 배포 시 오류 방지

이 작업들을 완료한 후 **Phase 6 (배포)**로 진행하면 안정적인 서비스 오픈이 가능합니다.

---

**마지막 업데이트**: 2024년 12월

